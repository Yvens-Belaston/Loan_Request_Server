function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(e){try{e=angular.module("bonitasoft.ui.templates")}catch(t){e=angular.module("bonitasoft.ui.templates",[])}e.run(["$templateCache",function(e){e.put("forms-generic-errors.html",'<div class="text-danger" ng-message="required">{{ \'This field is required\'Â | uiTranslate}}</div>\n<div class="text-danger" ng-message="minlength">{{ \'This field length should be larger\' | uiTranslate }}</div>\n<div class="text-danger" ng-message="maxlength">{{ \'This field length should be smaller\' | uiTranslate }}</div>\n<div class="text-danger" ng-message="min">{{ \'This value is too small\' | uiTranslate }}</div>\n<div class="text-danger" ng-message="max">{{ \'This value is too large\' | uiTranslate }}</div>\n<div class="text-danger" ng-message="email">{{ \'This is not a valid email\' | uiTranslate }}</div>\n<div class="text-danger" ng-message="url">{{ \'This is not a valid URL\' | uiTranslate }}</div>\n<div class="text-danger" ng-message="date">{{ \'This is not a valid date\' | uiTranslate }}</div>\n')}])}(),function(){"use strict";angular.module("bonitasoft.ui.constants",[]),angular.module("bonitasoft.ui.services",["gettext","ngDialog"]),angular.module("bonitasoft.ui.i18n",["ngCookies","gettext"]),angular.module("bonitasoft.ui.directives",["gettext"]),angular.module("bonitasoft.ui.filters",["gettext"]),angular.module("bonitasoft.ui.widgets",["bonitasoft.ui.filters","bonitasoft.ui.services","ngSanitize"]),angular.module("bonitasoft.ui.extensions",[]),angular.module("pb.widgets",[]),angular.module("pb.generator",[]),angular.module("bonitasoft.ui",["ngSanitize","ngMessages","bonitasoft.ui.templates","bonitasoft.ui.i18n","bonitasoft.ui.constants","bonitasoft.ui.services","bonitasoft.ui.directives","bonitasoft.ui.widgets","bonitasoft.ui.extensions","pb.widgets","pb.generator"])}(),angular.merge||(angular.merge=function(){function e(t,n,r){for(var o=t.$$hashKey,i=0,a=n.length;i<a;++i){var s=n[i];if(angular.isObject(s)||angular.isFunction(s))for(var u=Object.keys(s),c=0,l=u.length;c<l;c++){var f=u[c],p=s[f];r&&angular.isObject(p)?angular.isDate(p)?t[f]=new Date(p.valueOf()):(angular.isObject(t[f])||(t[f]=angular.isArray(p)?[]:{}),e(t[f],[p],!0)):t[f]=p}}return function(e,t){t?e.$$hashKey=t:delete e.$$hashKey}(t,o),t}return function(t){return e(t,[].slice.call(arguments,1),!0)}}()),function(){"use strict";angular.module("bonitasoft.ui.directives").directive("pbModel",["$parse","modelFactory","bindingsFactory","variableModelFactory","modelPropertiesFactory","bindingContextFactory",function(e,t,n,r,o,i){function a(){}return a.prototype.fill=function(e){var n=t.create(e);this.createGateway=n.createGateway,this.getModel=function(){return n}},{restrict:"A",controller:a,controllerAs:"pbModelCtrl",scope:!0,priority:999,compile:function(e,t){return{pre:function(e,a,s,u){u.fill(r.get(t.pbModel));var c=o.get(t.pbModelProperties);c&&e.$parent.pbModelCtrl&&n.create(c,i.create(e.$parent.pbModelCtrl,e),u.getModel())}}}}}])}(),function(){"use strict";angular.module("bonitasoft.ui.directives").directive("pbPropertyValues",["$parse","$q","$timeout","$log","bindingsFactory","propertyValuesFactory","bindingContextFactory",function(e,t,n,r,o,i,a){return{restrict:"A",scope:!0,require:"^pbModel",compile:function(e,t){return{pre:function(e,n,r,s){var u=i.get(t.pbPropertyValues);o.create(u,a.create(s,e),e.properties={}),e.properties.isBound=function(e){return!!u[e]&&"variable"===u[e].type&&!!u[e].value}}}}}}])}(),function(){"use strict";angular.module("bonitasoft.ui.directives").directive("uiTranslate",["$compile",function(e){return{restrict:"A",terminal:!0,priority:1e3,compile:function(t,n){return n.$set("translate",""),t.removeAttr("ui-translate"),{post:function(t,n){e(n)(t)}}}}}])}(),function(){"use strict";angular.module("bonitasoft.ui.filters").filter("lazyRef",["$log",function(e){return function(t,n){if(t&&t.links){var r=t.links.filter((function(e){return e.rel===n}));if(r[0]&&r[0].href)return".."+r[0].href;e.warn("No lazy relation ",n," found")}}}])}(),function(){"use strict";angular.module("bonitasoft.ui.filters").filter("uiDate",["$filter",function(e){return function(t,n,r){return r||isNaN(t)||!isFinite(t)||(r="UTC"),!n&&t&&"string"==typeof t&&t.length>10&&(n="medium"),e("date")(t,n,r)}}])}(),function(){"use strict";angular.module("bonitasoft.ui.filters").filter("uiTranslate",["$filter",function(e){return e("translate")}])}(),function(){"use strict";angular.module("bonitasoft.ui.i18n").factory("i18nCodeMapping",(function(){return{get:function(t,n){return e(n,t="ja"===t?"ja-JP":t)||e(n,t+"_"+t)||e(n,t.replace("-","_"))||e(n,t.substring(0,t.indexOf("-")))||e(n,t.substring(0,t.indexOf("_")))||t}};function e(e,t){return e.filter((function(e){return e.toLowerCase().replace("_","-")===t.toLowerCase().replace("_","-")}))[0]}}))}(),angular.module("bonitasoft.ui.i18n").factory("i18n",["gettextCatalog","$cookies","$window","localizationFactory","i18nCodeMapping","$locale",function(e,t,n,r,o,i){return{init:function(){var a=t.BOS_Locale||n.navigator.language||n.navigator.userLanguage||"en-US",s=r.get(),u=Object.keys(s),c=o.get(a,u);return s&&s[c]&&s[c].$locale&&angular.merge(i,s[c].$locale),u.forEach((function(t){e.setStrings(t,s[t])})),e.setCurrentLanguage(c),c}}}]),function(){"use strict";angular.module("bonitasoft.ui.services").config(["$httpProvider",function(e){e.defaults.xsrfHeaderName=e.defaults.xsrfCookieName="X-Bonita-API-Token",e.interceptors.push("restInterceptorFactory")}])}(),angular.module("bonitasoft.ui").run(["i18n",function(e){var t=e.init();document.documentElement.setAttribute("lang",t)}]),function(){"use strict";angular.module("bonitasoft.ui.services").factory("bindingContextFactory",(function(){return{create:function(e,t){var n=e.createGateway();return function(e){return{with:function(t,n){return n.enumerable=!0,Object.defineProperty(e,t,n),this}}}(n).with("$item",{get:function(){return t.$item},set:function(e){t.$collection&&(t.$collection[t.$index]=e)}}).with("$collection",{get:function(){return t.$collection}}).with("$index",{get:function(){return t.$index}}).with("$form",{get:function(){return t.$form}}),n}}}))}(),function(){"use strict";angular.module("bonitasoft.ui.services").service("Binding",(function(){return function e(t,n){_classCallCheck(this,e),this.property=t,this.context=n}}))}(),function(){"use strict";angular.module("bonitasoft.ui.services").service("bindingService",["$injector",function(e){return{create:function(t,n){var r;return new(e.get((r=t.type).charAt(0).toUpperCase()+r.slice(1)+"Binding"))(t,n)}}}])}(),function(){"use strict";angular.module("bonitasoft.ui.services").service("ConstantBinding",["Binding",function(e){return function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(t,e),t.prototype.getValue=function(){return this.property.value},t}(e)}])}(),function(){"use strict";angular.module("bonitasoft.ui.services").service("ExpressionBinding",["Binding","$parse",function(e,t){return function(e){function n(r,o){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,e.call(this,r,o));return i.getter=t(r.value),i}return _inherits(n,e),n.prototype.getValue=function(){var e=this.getter(this.context);return angular.equals(this.currentValue,e)||(this.currentValue=e),this.currentValue},n}(e)}])}(),function(){"use strict";angular.module("bonitasoft.ui.services").service("InterpolationBinding",["Binding","gettextCatalog",function(e,t){return function(e){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(n,e),n.prototype.getValue=function(){return t.getString(this.property.value||"",this.context)},n}(e)}])}(),function(){"use strict";angular.module("bonitasoft.ui.services").service("VariableBinding",["Binding","$parse",function(e,t){return function(e){function n(r,o){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,e.call(this,r,o));return i.getter=t(r.value),i.isBound=!r.value,i}return _inherits(n,e),n.prototype.getValue=function(){return this.isBound?this.value:this.getter(this.context)},n.prototype.setValue=function(e){return this.isBound?this.value=e:this.getter.assign(this.context,e)},n}(e)}])}(),function(){"use strict";angular.module("bonitasoft.ui.services").factory("bindingsFactory",["bindingService",function(e){return{create:function(t,n,r){Object.keys(t).forEach((function(o){var i=e.create(t[o],n);Object.defineProperty(r,o,{get:function(){return i.getValue()},set:function(e){return i.setValue&&i.setValue(e)},enumerable:!0})}))}}}])}(),function(){"use strict";function e(e){return{save:function(n,r){var o=t(n);return e.localStorage.setItem(o,JSON.stringify(r)),o},read:function(n){var r=e.localStorage.getItem(t(n));return JSON.parse(r)},delete:function(n){e.localStorage.removeItem(t(n))},isAvailable:function(){return!!e.localStorage}};function t(e){return"bonita-form-"+function(e){var t,n,r=document.createElement("a");r.href=e,t=r.search.replace(/^\?/,"").split("&");var o=function(e,t){if(!t.startsWith("time=")){var n="";return e.length>0&&(n="&"),e+n+t}return e};n=t.reduce(o,""),r.search=null,n.length>0&&(r.search=n);return r.href}(e)}}e.$inject=["$window"],angular.module("bonitasoft.ui.services").service("localStorageService",e)}(),function(){"use strict";angular.module("bonitasoft.ui.services").service("modalService",(function(){var e={},t=[];return{open:function(n){n&&e[n]&&(t.push(n),e[n].open())},close:function(){var n=t.pop();n&&e[n]&&e[n].close()},register:function(t,n){e[t]=n}}}))}(),function(){"use strict";function e(e,t){return{create:function(n){var r={},o=Object.keys(n).map((function(e){return t.createResolver(r,e,n[e])}));return e.all(o.filter((function(e){return!e.hasDependencies()})).map((function(t){return e.when(t.resolve())}))).finally((function(){return o.forEach((function(e){return e.watchDependencies()}))})),r.createGateway=function(){var e={};return Object.keys(n).forEach((function(t){Object.defineProperty(e,t,{get:function(){return r[t]},set:function(e){return r[t]=e},enumerable:!0})})),e},r}}}e.$inject=["$q","ResolverService"],angular.module("bonitasoft.ui.services").factory("modelFactory",e)}(),function(){"use strict";function e(e,t,n,r,o){var i=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(t,e),t.prototype.buildAPI=function(){var e=JSON.parse(this.content),t="";return e.filters.forEach((function(e){return t=t+"&f="+e.name.concat("=",e.value)})),"../API/bdm/businessData/"+e.id+"?q="+e.query.name+"&p="+e.pagination.p+"&c="+e.pagination.c+t},t.prototype.interpolateUrl=function(){return r(this.buildAPI(),!1,null,!0)(this.model)},t.prototype.resolve=function(){var e=this,t=this.interpolateUrl();if(angular.isDefined(t))return n.get(t).success((function(t){return e.model[e.name]=t}))},t.prototype.watchDependencies=function(){var e=this;this.hasDependencies()&&o.$watch((function(){return e.interpolateUrl()}),(function(){return e.resolve()}))},t.prototype.hasDependencies=function(){return(this.buildAPI()||"").match(/\{\{[^\}]+\}\}/)},t}(e);t.addResolverType("businessdata",(function(e,t,n){return new i(e,t,n)}))}e.$inject=["Resolver","ResolverService","$http","$interpolate","$rootScope"],angular.module("bonitasoft.ui.services").run(e)}(),function(){"use strict";function e(e,t){var n=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(t,e),t.prototype.resolve=function(){this.model[this.name]=this.content||void 0},t}(e);t.addResolverType("constant",(function(e,t,r){return new n(e,t,r)})),t.addResolverType("variable",(function(e,t,r){return new n(e,t,r)}))}e.$inject=["Resolver","ResolverService"],angular.module("bonitasoft.ui.services").run(e)}(),function(){"use strict";function e(e,t,n,r,o){var i=function(e){function t(n,r,o){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,e.call(this,n,r,o));return i.dependencies=t.extractDependencies(i.content),i}return _inherits(t,e),t.prototype.resolve=function(){var e=new Function("$data","uiTranslate",'"use strict";'+this.content);try{this.model[this.name]=e(this.model,(function(e){return o("translate")(e)}))}catch(e){n.warn("Error evaluating <",this.name,"> data: ",e.message)}},t.prototype.watchDependencies=function(){var e=this;this.dependencies.forEach((function(t){return r.$watch((function(){return e.model[t]}),(function(){return e.resolve()}),!0)}))},t.prototype.hasDependencies=function(){return this.dependencies.length},t.extractDependencies=function(e){return((e+"").match(/\$data\.([\w\$_]+)/g)||[]).map((function(e){return e.replace(/\$data\./,"")})).filter((function(e,t,n){return n.indexOf(e)===t}))},t}(e);t.addResolverType("expression",(function(e,t,n){return new i(e,t,n)}))}e.$inject=["Resolver","ResolverService","$log","$rootScope","$filter"],angular.module("bonitasoft.ui.services").run(e)}(),function(){"use strict";function e(e,t){var n=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(t,e),t.prototype.resolve=function(){this.model[this.name]=JSON.parse(this.content)},t}(e);t.addResolverType("json",(function(e,t,r){return new n(e,t,r)}))}e.$inject=["Resolver","ResolverService"],angular.module("bonitasoft.ui.services").run(e)}(),function(){"use strict";angular.module("bonitasoft.ui.services").service("Resolver",(function(){return function(){function e(t,n,r,o){_classCallCheck(this,e),this.content=r,this.name=n,this.model=t,this.advancedOptions=o}return e.prototype.resolve=function(){},e.prototype.watchDependencies=function(){},e.prototype.hasDependencies=function(){return!1},e}()}))}(),function(){"use strict";var e=function(){function e(){_classCallCheck(this,e),this.resolvers={}}return e.prototype.addResolverType=function(e,t){this.resolvers[e]=t},e.prototype.createResolver=function(e,t,n){return this.resolvers[n.type](e,t,n.displayValue,n.advancedOptions)},e}();angular.module("bonitasoft.ui.services").service("ResolverService",(function(){return new e}))}(),function(){"use strict";function e(e,t,n,r){var o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(t,e),t.prototype.resolve=function(){var e,t;this.model[this.name]=(e=this.content||"",t=n.absUrl(),decodeURIComponent(t.replace(/\+/g,"%20").replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1")))},t.prototype.watchDependencies=function(){var e=this;r.$watch((function(){return n.absUrl()}),(function(){return e.resolve()}))},t}(e);t.addResolverType("urlparameter",(function(e,t,n){return new o(e,t,n)}))}e.$inject=["Resolver","ResolverService","$location","$rootScope"],angular.module("bonitasoft.ui.services").run(e)}();var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(){"use strict";function e(e,t,n,r,o){var i=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(t,e),t.prototype.interpolateUrl=function(){return r(this.content,!1,null,!0)(this.model)},t.prototype.resolve=function(){var e=this,t=this.interpolateUrl();if(angular.isDefined(t))return n.get(t).then((function(t){return e.processResponse(t,!1)})).catch((function(t){return e.processResponse(t,!0)}))},t.prototype.watchDependencies=function(){var e=this;this.hasDependencies()&&o.$watch((function(){return e.interpolateUrl()}),(function(){return e.resolve()}))},t.prototype.hasDependencies=function(){return(this.content||"").match(/\{\{[^\}]+\}\}/)},t.prototype.processResponse=function(e,t){return this.advancedOptions&&this.processAdvancedOptions(e,t),t||(this.model[this.name]=e.data),this.model[this.name]},t.prototype.processAdvancedOptions=function(e,t){var n,r,o=this,i={};this.advancedOptions.headers&&(n={},r=e.headers(),Object.keys(r).forEach((function(e){n[[e]]=r[e]})),i[o.advancedOptions.headers]=n),this.advancedOptions.statusCode&&(i[this.advancedOptions.statusCode]=e.status),this.advancedOptions.failedResponseValue&&(i[this.advancedOptions.failedResponseValue]=t?e.data:void 0);var a=this.unflattenArray(i);for(var s in a)"object"===_typeof(this.model[s])?_extends(this.model[[s]],a[s]):this.model[[s]]=a[s]},t.prototype.unflattenArray=function(e){var t={},n=function(){var n=r.split(".");n.reduce((function(t,o,i){return t[o]||(t[o]=isNaN(Number(n[i+1]))?n.length-1===i?e[r]:{}:[])}),t)};for(var r in e)n();return t},t}(e);t.addResolverType("url",(function(e,t,n,r){return new i(e,t,n,r)}))}e.$inject=["Resolver","ResolverService","$http","$interpolate","$rootScope"],angular.module("bonitasoft.ui.services").run(e)}(),function(){"use strict";angular.module("bonitasoft.ui.services").factory("restInterceptorFactory",["$q","$location","$window","$filter","$injector",function(e,t,n,r,o){var i,a=!1,s=function(e,t,n,r){try{i=i||o.get("ngDialog"),a=!0,i.openConfirm({data:{info:e,redirect:t,cancel:n},className:"ngdialog-theme-default",showClose:!1,plain:!0,template:'<div class="modal-header">\n    <h3 class="modal-title">{{\'An error occurred with the requested operation\' | uiTranslate}}</h3>\n</div>\n<div class="modal-body">\n    <p>{{ngDialogData.info}}</p>\n    <p>{{ngDialogData.redirect}}</p>\n    <p>{{ngDialogData.cancel}}</p>\n</div>\n<div class="modal-footer">\n    <div>\n        <button id="confirm" type="submit" class="btn btn-primary" ng-click="confirm()" >{{\'OK\' | uiTranslate}}</button>\n        <button id="cancel" type="submit" class="btn btn-default" ng-click="closeThisDialog()">{{\'Cancel\' | uiTranslate}}</button>\n    </div>\n</div>\n</div>'}).then((function(){r.location.reload()}),(function(){a=!1}))}catch(e){console.log(e),r.location.reload()}},u=function(e,t){return e.parent.location.href.startsWith(t)?e.parent:e};return{responseError:function(o){if(!a){var i=t.absUrl(),c=i.substring(0,i.indexOf(t.path()));if(o.config.url.startsWith(c)||o.config.url.startsWith("../API/")){var l=n;switch(l.parent!==l&&(l=u(l,c)).parent!==l&&(l=u(l,c)),o.status){case 401:s(r("uiTranslate")("Your session is no longer active."),r("uiTranslate")("Click on OK to be redirected and log back in."),r("uiTranslate")("Click on Cancel to remain on this page and try to execute the operation again once you logged back in (e.g. in another tab)."),l);break;case 503:s(r("uiTranslate")("Server is under maintenance."),r("uiTranslate")("Click on OK to be redirected to the maintenance page."),r("uiTranslate")("Click on Cancel to remain on this page and wait for the maintenance to end."),l)}}}return e.reject(o)}}}])}(),function(){"use strict";angular.module("bonitasoft.ui.services").service("widgetNameFactory",(function(){var e={};return{getName:function(t){e.hasOwnProperty(t)||(e[t]=-1);return e[t]+=1,t+e[t]},getId:function(t){return t+e[t]+"-input"}}}))}();